#!/usr/bin/env bash

# __   _____  _   _ _   _ _____  __
# \ \ / / _ \| | | | \ | |_ _\ \/ /
#  \ V / | | | | | |  \| || | \  /
#   | || |_| | |_| | |\  || | /  \
#   |_| \___/ \___/|_| \_|___/_/\_\
#
# Lisence GPL3
# Homepage: https://github.com/apapamarkou/younix
# Author: Andrianos Papamarkou
# Email: papamarkoua@gmail.com

# FZF Sound Select Input Script for YOUNIX desktop environment

# List all input devices (sources)
sources=$(pactl list short sources | awk '{print $2 " | " $1}')

# Let user select a source
selection=$(echo "$sources" | fzf --prompt="  > " --height=50% --layout=reverse)

# Exit if nothing selected
[[ -z "$selection" ]] && echo "No source selected." && exit 0

# Extract source name
source_name=$(echo "$selection" | awk -F'|' '{print $2}' | xargs)

# Set default source
pactl set-default-source "$source_name"

echo "✅ Default input set to $source_name"
notify-send "  Default input set to $source_name"
