#!/bin/bash
figlet "YOUNIX"

echo -e "\e[33mSecurity blocker hBlock\nhttps://github.com/hectorm/hblock\e[0m"
echo

echo -e "\e[33mUpdating hBlock to latest version...\e[0m"
echo
curl -o /tmp/hblock 'https://raw.githubusercontent.com/hectorm/hblock/v3.5.1/hblock' \
  && echo 'd010cb9e0f3c644e9df3bfb387f42f7dbbffbbd481fb50c32683bbe71f994451  /tmp/hblock' | shasum -c \
  && sudo mv /tmp/hblock /usr/local/bin/hblock \
  && sudo chown 0:0 /usr/local/bin/hblock \
  && sudo chmod 755 /usr/local/bin/hblock

echo

echo -e "\e[31mWARNING: /etc/hosts will be overridden!\e[0m"
echo -e "\e[37mDo you want to continue? (Y/n): \e[0m"
read -r answer
if [[ "$answer" != "n" && "$answer" != "N" ]]; then
    hblock
    echo -e "\e[32mhYou are now protected.\e[0m"
    echo -e "\e[32mhBlock update completed successfully.\e[0m"
else
    echo "Operation cancelled."
fi

read -p "Press Enter to continue..."