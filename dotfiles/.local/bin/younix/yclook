#!/bin/bash

# __   __    _   _ _   _ ___  __
# \ \ / /__ | | | | \ | (_) \/ /
#  \ V / _ \| | | |  \| | |\  / 
#   | | (_) | |_| | |\  | |/  \ 
#   |_|\___/ \___/|_| \_|_/_/\_\
#
# Lisence GPL3
# Homepage: https://github.com/apapamarkou/younix
# Author: Andrianos Papamarkou
# Email: papamarkoua@gmail.com

#
# YoUNiX Config Look
#

MUTE_NOTIFY=false
MUTE_ECHO=false

showHelp() {
    echo "YoUNiX Select Default Shell"
    echo "Usage: ycc [OPTIONS]"
    echo "Options:"
    echo "  -t    Open in terminal"
    echo "  -h    Show this help"
    exit 0
}

openTerminal() {
    flock -n ~/.config/lock terminal --columns=50 --lines=15 --title="YoUNiX Control Center" yclook
}

displayMenu() {
    while true; do
        clear
        yprint -c --color=yellow "YoUNiX Config Look"
        choice=$(echo -e "󰸉  Wallpaper\n󰔎  Theme\n󰛖  Font Size\n󰎟  Notifications\n󱁐  Gaps\n  Window Borders\n󰌍  Back" | fzf --layout=reverse --prompt="  > " --height=50% )
        case $choice in
            *Wallpaper*) ycwallpaper ;;
            *Theme*) yctheme ;;
            *Font*) ycfont ;;
            *Notifications*) ycnotifications ;;
            *Borders*) ycborders ;;
            *Gaps*) ycgaps ;;
            *) break ;;
        esac
    done
}

OPEN_TERMINAL=false

while getopts "thnv" opt; do
    case $opt in
        t) OPEN_TERMINAL=true ;;
        h) showHelp ;;
        n) MUTE_NOTIFY=true ;;
        v) MUTE_ECHO=true ;;
        \?) echo "Invalid option. Use -h for help."; exit 1 ;;
    esac
done

if [ "$OPEN_TERMINAL" = true ]; then
    openTerminal
    exit 0
else
    displayMenu
fi
