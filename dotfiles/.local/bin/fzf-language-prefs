#!/usr/bin/env bash

clear 

# Menu items
MENU_NAMES=(
    "  Add/Remove Languages"
    "  Configure Localization"
    "󰌍  Back"
)

# Corresponding commands
MENU_COMMANDS=(
    "fzf-language-addremove"
    "fzf-language-conf"
    "exit 0"
)

while true; do
    # Show menu with fzf
    choice=$(printf "%s\n" "${MENU_NAMES[@]}" | fzf --layout=reverse --prompt="  Localization > " --height=40%)

    # Exit if nothing selected
    [[ -z "$choice" ]] && exit 0

    # Find the selected index and run the command
    for i in "${!MENU_NAMES[@]}"; do
        if [[ "$choice" == "${MENU_NAMES[$i]}" ]]; then
            eval "${MENU_COMMANDS[$i]}"
            break
        fi
    done
done
