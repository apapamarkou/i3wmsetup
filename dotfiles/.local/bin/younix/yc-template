#!/bin/bash

# Standard YoUNiX Control script template
# Replace SCRIPT_NAME, TITLE, and displayMenu function for each script

MUTE_NOTIFY=false
MUTE_ECHO=false
SCRIPT_NAME="SCRIPT_NAME"  # Replace with actual script name
TITLE="TITLE"              # Replace with actual title

showHelp() {
    echo "YoUNiX $TITLE"
    echo "Usage: $SCRIPT_NAME [OPTIONS]"
    echo "Options:"
    echo "  -t    Open in terminal"
    echo "  -h    Show this help"
    echo "  -n    Mute notification"
    echo "  -v    Mute console message"
    echo "Arguments can be combined: -vn, -nv, etc."
    exit 0
}

openTerminal() {
    local args=""
    [ "$MUTE_NOTIFY" = true ] && args="$args -n"
    [ "$MUTE_ECHO" = true ] && args="$args -v"
    nohup flock -n ~/.config/lock/$SCRIPT_NAME.lock terminal --columns=50 --lines=15 --title="$FLOATING_PREFIX $TITLE" $SCRIPT_NAME $args > /dev/null 2>&1 &
}

printMessage() {
    if [ "$MUTE_NOTIFY" = false ]; then
        notify-send "$@"
    fi
    if [ "$MUTE_ECHO" = false ]; then
        echo -e "$@"
    fi
}

displayMenu() {
    # Replace this function with script-specific menu
    clear
    yprint -c --color=yellow "YoUNiX $TITLE"
    echo "Menu implementation goes here"
}

OPEN_TERMINAL=false

while getopts "thnv" opt; do
    case $opt in
        t) OPEN_TERMINAL=true ;;
        h) showHelp ;;
        n) MUTE_NOTIFY=true ;;
        v) MUTE_ECHO=true ;;
        \?) echo "Invalid option. Use -h for help."; exit 1 ;;
    esac
done

if [ "$OPEN_TERMINAL" = true ]; then
    openTerminal
    exit 0
fi

displayMenu