#!/usr/bin/env bash

# List all sinks (output devices)
sinks=$(pactl list short sinks | awk '{print $2 " | " $1}')

# Let user select a sink
selection=$(echo "$sinks" | fzf --prompt="  Select default output > " --height=40% --layout=reverse)

# Exit if nothing selected
[[ -z "$selection" ]] && echo "No sink selected." && exit 0

# Extract sink name
sink_name=$(echo "$selection" | awk -F'|' '{print $2}' | xargs)

# Set default sink
pactl set-default-sink "$sink_name"

notify-send "  Default output set to $sink_name"
