#!/bin/bash

# __   __    _   _ _   _ ___  __
# \ \ / /__ | | | | \ | (_) \/ /
#  \ V / _ \| | | |  \| | |\  / 
#   | | (_) | |_| | |\  | |/  \ 
#   |_|\___/ \___/|_| \_|_/_/\_\
#
# Lisence GPL3
# Homepage: https://github.com/apapamarkou/younix
# Author: Andrianos Papamarkou
# Email: papamarkoua@gmail.com

#
# A print method for youunix
#

SCRIPT_NAME=$(basename "$0")
TITLE="A print method for youunix"

showHelp() {
    echo "$DISTRO_NAME $TITLE"
    echo "Usage: $SCRIPT_NAME [OPTIONS] TEXT"
    echo "Options:"
    echo "  -c              Center text"
    echo "  -r              Right align text"
    echo "  --color=COLOR   Set text color"
    echo "  -h              Show this help"
}

exitWithError() {
    echo "Error: $1" >&2
    exit 1
}

getColorCode() {
    case $1 in
        red) echo "31" ;;
        green) echo "32" ;;
        yellow) echo "33" ;;
        blue) echo "34" ;;
        magenta) echo "35" ;;
        cyan) echo "36" ;;
        white) echo "37" ;;
        *) exitWithError "Usage --color=<color>" ;;
        "") exitWithError "Usage --color=<color>" ;;
    esac
}

CENTER=false
RIGHT=false
COLOR=""
TEXT=""

while [[ $# -gt 0 ]]; do
    case $1 in
        -c) CENTER=true; shift ;;
        -r) RIGHT=true; shift ;;
        --color=*) COLOR="${1#*=}"; shift ;;
        -h) showHelp; exit 0 ;;
        *) TEXT="$1"; shift ;;
    esac
done

[ -z "$TEXT" ] && { showHelp; exit 1; }

ORIGINAL_TEXT="$TEXT"
if [ -n "$COLOR" ]; then
    COLOR_CODE=$(getColorCode "$COLOR")
    TEXT="\033[${COLOR_CODE}m${TEXT}\033[0m"
fi

if [ "$CENTER" = true ]; then
    COLS=$(tput cols)
    LEN=${#ORIGINAL_TEXT}
    PADDING=$(( (COLS - LEN) / 2 ))
    printf "%*s" $PADDING ""
    echo -e "$TEXT"
elif [ "$RIGHT" = true ]; then
    COLS=$(tput cols)
    LEN=${#ORIGINAL_TEXT}
    PADDING=$(( COLS - LEN ))
    printf "%*s" $PADDING ""
    echo -e "$TEXT"
else
    echo -e "$TEXT"
fi




